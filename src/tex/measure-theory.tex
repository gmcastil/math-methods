% This file is included in body.tex

\chapter{Measure Theory}
\label{ch:measure-theory}
%
\section{Integration and Measure}
%
Consider the indicator function
%
\begin{equation*}
  f(x) = \left\{
    \begin{array}{lr}
      0 & : x \in \mathbb{Q}\\
      1 & : x \not\in \mathbb{Q}
    \end{array}
  \right.
\end{equation*}
%
where $\mathbb{Q}$ represents the set of rational numbers (i.e., those
numbers that can be written as a fraction $\sfrac{p}{q}$ with $p$ and
$q$ both integers and $q \neq 0$, or equivalently, those numbers that
can be written as either terminating or repeating decimals.).  Our
goal is to evaluate integrals of the form
%
\begin{equation}
  \label{eq:rational-indicator}
  I = \int_0^1 dx\, f(x)  
\end{equation}
%
The standard approach via Riemann integration is to partition the
interval $[0,1]$ into a finite number of subintervals
$[0 = a_0, a_1], [a_1, a_2], \dots, [a_{n-1}, a_n = 1]$.
Letting $F_i$ and $f_i$ denote the largest and smallest values of the
function $f(x)$ respectively on the $i$th subinterval
$[a_{i-1}, a_i]$, we then form the upper and lower sums
%
\begin{align*}
  U_n &= \sum_{i=1}^n (a_i - a_{i-1})F_i\\
  L_n &= \sum_{i=1}^n (a_i - a_{i-1})f_i
\end{align*}
%
As this partition is refined (and $n$ increases), $U_n$ decreases to a
limiting value $U$ and $L_n$ increases to a limiting value $L$.
If $U = L$, then the integral is well defined (in the Riemann sense) and has
the value $I = U = L$.  If $U \neq L$, then the Riemann integral is
not well defined.

Let us now return to the specific example in~\eqref{eq:rational-indicator}.
Since each subinterval $[a_{i-1}, a_i]$ contains both rational and
irrational numbers, we must have that $F_i = 1$ and $f_i = 0$ for every
subinterval.  Thus we have
%
\begin{align*}
  U_n &= \sum_{i=1}^n (a_i - a_{i-1})(1) = a_n - a_0 = 1\\
  L_n &= \sum_{i=1}^n (a_i - a_{i-1})(0) = 0
\end{align*}
%
Since this is true for all partitions of $[0, 1]$, refining the
partition does not change these values.  Therefore we have that
$U = 1$ and $L = 0$, so that $U \neq L$, and, thus, this integral is not
well defined in the Riemannian sense.

On the other hand, suppose that we could find the length or
\textbf{measure} $M$ of the set $S$ of rational numbers between 0 and 1.
Then, for $x \in [0, 1]$, the above fuction $f(x)$ has the value
$f(x) = 0$ on a set of measure $M$, and it has the value $f(x) = 1$ on
the remaining set of measure $1 - M$.  As a result, we could write
%
\begin{equation*}
  I = (M)(0) + (1-M)(1) = 1 - M
\end{equation*}
%

It turns out (as will be discussed in the next section) that the
Riemann measure of $S$ is not well defined, and, thus, neither is the
Riemann integral.  However, we will show in section 1C that the
\textbf{Lebesgue} measure of $S$ is well defined and is given by
$M = 0$.\footnote{
  In some sense, there are very few rational numbers, compared to the
  set of irrational numbers.}
Therefore, the \textbf{Lebesgue} integral exists and has the value
%
\begin{equation*}
  I = 1 - M = 1
\end{equation*}
%

Lebesgue measure and Lebesgue integration are generalizatinos of their
more familiar Riemann counterparts.  If a set has Riemann measure $M$,
then it also has Lebesgue measure $M$; if a Riemann integral has the
value $I$, then Lebesgue integration yields the same value $I$.
However, many sets that have no well defined Riemann measure do have a
well defined Lebesgue measure; and many integrals that are not
Riemann-integrable are Lebesgue-integrable.  Thus, Lebesgue measure
and integration simply extend the more familiar Riemann concepts.
%
\section{Riemann Measure}
%
Riemann defines the measure of a closed interval $[a, b]$ to be
$M = b - a$.  Letting $b = a$, we see that an individual point has Riemann
measure zero.  The Riemann measure is then extended to more
complicated sets via two rules
\begin{enumerate*}
\item
  if the sets $S_1, S_2, \dots, S_n$ are disjoint and have
  measures $M_1, M_2, \dots, M_n$, respectively, then their union
  $S = S_1 \cup S_2 \cup \dots \cup S_n$ has measure
  $M = M_1 + M_2 + \dots + M_n$
\item
  if $S$ is a set of measure $M$ and $S'$ is a subset of measure
  $M'$, then the set $S - S'$ (i.e., the set of points in $S$
  which are not in $S'$) has measure $M - M'$.  In particular, these
  rules allow one to show that the non-closed intervals
  $[a, b]$, $(a, b]$, and $(a, b)$ all have measure $M = b - a$ as well.
\end{enumerate*}

The above rules allow us to find the Riemann measure of any finite
collection of intervals (including individual points) with or without
endpoints; the measure is just the sum of the lengths of the
intervals.  Furthermore, these are the only sets with are
Riemann-measurealbe (i.e., have a well defined Riemann measure).

\section{Lebesgue Measure}
%
Lebesgue extended the Riemann measure by modifying the first of the
two rules to allow not just finite unions, but also
\textbf{countably infinite} unions\footnote{
  A set $S$ is said to be countably infinite, or just
  countable, if there exists a one-to-one correspondence between the
  set $S$ and the positive integers $\mathbb{Z_+} = \{1, 2,
  \dots\}$}.
Thus, if the sets $S_1, S_2, \dots$, are disjoint and have measures
$M_1, M_2, \dots$, respectively, then the union
$S = \cup_{i = 1}^\infty S_i$ has measure $M = \sum_{i = 1}^\infty
M_i$.
This simple change greatly increases the collection of measurable
sets, without altering the measure of the Riemann-measureable sets.

As an example, consider the following set.
Beginning with the interval $[0, 1]$, remove the middle third to leave
the two intervals $[0, \sfrac{1}{3}]$ and $[\sfrac{2}{3}, 1]$.  Next,
remove the middle ninth of each of these two intervals to leave the
four intervals
$[0, \sfrac{4}{27}], [\sfrac{5}{27}, \sfrac{1}{3}]$,
$[\sfrac{2}{3}, \sfrac{22}{27}]$,
and $[\sfrac{23}{27}, 1]$.  Continuing this process infinitely many
times leads to some limiting set $S$.  Note that at the $n$th stage of
construction, we remove the middle fraction $f_n = \sfrac{1}{3^n}$ of
each remaining interval.  To better visualize the set $S$, notice that
the $n$th stage of construction resulted in $N_n = 2^n$ intervals of
equal length $L_n$.  Since this must be a subset of the original
interval $[0, 1]$, its total length cannoth exceed 1, which yields
$N_nL_n \leq$ or $L_n \leq \sfrac{1}{N_n} = \sfrac{1}{2^n}$.  Letting
$n \rightarrow \infty$, we have that $L_n \rightarrow 0$, which shows
that the limiting set $S$ contains no intervals of finite length; it
is a completely disconnected set called a dust\footnote{Between any
  two points in $S$ there is a point which is not in S.}.

To compute the Lebesgue measure $M$ of the set $S$, we consider its
complement $S' = [0, 1] - S$, which is just the collection of
intervals removed at the various stages of construction.  Since this
is a countable collection of intervals, its Lebesgue measure $M'$ is
just the sum of the lengths of these intervals.  At the first stage of
construction, we removed $N_0 = 1$ interval of length
$l_0 = \sfrac{1}{3}$.  At the next stage, we removed $N_1 = 2$
intervals of length $l_1 = \sfrac{1}{27}$.  At the next stage, we
removed $N_2 = 4$ intervals of length
$l_2 = \sfrac{1}{27}\left(\sfrac{4}{27}\right)$.  Thus, the measure of
the set consisting of all the removed intervals is
%
\begin{equation*}
  M' = \sum_{n=0}^\infty N_n l_n =
  \left(1\right)\left(\frac{1}{3}\right) +
  \left(2\right)\left(\frac{1}{27}\right) +
  \left(4\right)\left(\frac{4}{729}\right) + \dots \approx 0.44
\end{equation*}
%
Hence, the dust $S = [0, 1] - S'$ has measure
%
\begin{equation*}
  M = 1 - M' \approx 0.56
\end{equation*}
%
which is finite!  Sets such as these appear in the studies of
turbulence and are referred to as fat fractals.

Note that any countable set of points
$S = \{P_1, P_2, \dots\}$ must have Lebesgue measure zero.
This is because each individual point $P_i$ has Lebesgue measure
$M_i = 0$, and the countable union $S$ of these points has Lebesgue
measure $M = \sum_{i=1}^\infty M_i = 0$.  We will see in section 1F
that the rational numbers are a countable set, so that they
must have Lebesgue measure zero (as used in section 1A).

Finally, we say that something happens \textbf{almost everywhere}
if it happens everwhere except on a set of Lebesgue measure zero.  As
an example, the indicator function defined in section 1A is equal to 1
almost everywhere.
%
\section{Lebesgue Integration}
%
In general, a function can only be integrated over measurable sets.
For Riemann integration, the integral $\int_{S} dx\, f(x)$ of a function
$f(x)$ over a set $S$ exists if and only if $S$ may be written as a
finite collection of disjoint intervals and points such that $f(x)$ is
continuous on each of these intervals.  In particular, a
Riemann-integrable function can have at most a finite number of
discontinuities (unlike the indicator function discussed in section 1A).

For Lebesgue integration $\int_S dx \, f(x)$, it is sufficient to
write $S$ as a countable collection of disjoint intervals and points
such that $f(x)$ is continuous on each of these intervals.  Thus a
Lebesgue-integrable function can have countably many discontinuities.
%
\section{Covering}
%
If a set $S$ has Lebesgue measure $M$ and a subset $S' \subset S$ has
Lebesgue meaure $M'$, then we must have $M' \leq M$.  Furthermore, if
a nested sequence of sets $S_1 \supset S_2 \supset S_3 \supset \dots$
with Lebesgue measures $M_1 \geq M_2 \geq M_3 \geq \dots$,
respectively, has a limit $S = \lim_{n \rightarrow \infty} S_n$ (the
rigorous definition is that $S = \cap_{n=1}^\infty S_n$), then this
limit set S has Lebesgue measure
$M = \lim_{n \rightarrow \infty} M_n$.  This often provides a method
for computing the measure of a set.

As an example, we return to the modified Cantor set $S$ constructed in
section 1C.  Note that the successive stages of construction form a
nested sequence of sets $S_n$ approaching the limit set $S$.  We began
with the interval $[0, 1]$ of measure $M_0 = 1$.  We then removed
the middle $\sfrac{1}{3}$ of the interval leaving two intervals of
total measure
\begin{equation*}
  M_1 = \left(1 - \frac{1}{3}\right) M_0 = 1 - \frac{1}{3}
\end{equation*}
%
Next we remove $\sfrac{1}{9}$ of the remaining measure to yield four
intervals of total measure
%
\begin{equation*}
  M_2 = \left(1 - \frac{1}{9}\right)M_1 =
  \left(1 - \frac{1}{9}\right)\left(1 - \frac{1}{3}\right)
\end{equation*}
%
At the $n$th stage of construction then, the total measure of the
$2^n$ intervals is
%
\begin{equation*}
  M_n = \left(1 - \frac{1}{3}\right)\left(1 - \frac{1}{9}\right)
    \dots \left(1 - \frac{1}{3^n}\right) = \prod_{r=1}^n
      \left(1 - \frac{1}{3^r}\right)
\end{equation*}
%
Thus, the measure $M$ of the limiting set $S$ is given by the infinite
product
%
\begin{equation*}
  M = \lim_{n \rightarrow \infty} M_n =
    \left(1 - \frac{1}{3}\right)\left(1 - \frac{1}{9}\right)
      \dots = \prod_{r=1}^\infty \left(1 - \frac{1}{3^r}\right) \approx 0.56
\end{equation*}
%
Often, the measure of a complicated set can be computed (or at least
bounded) by covering it with a nested seqence of simpler sets.
\section{Countability}
%
As mentioned in section 1C, countable sets of points have Lebesgue
measure zero.  As a result, changing the value of a function at
countably many points will not change its Lebesgue integral.  In
particular, the function discussed in section 1A has the same Lebesgue
integral on $[0, 1]$ as the constant function $f(x) = 1$.  As a
result, it is important to recognize countable sets.

By definition, a set is countable if its elements can be placed in a
one-to-one correspondence with the positive integers.  This is
equivalent to saying that they can be listed in some order
$p_1, p_2, \dots$ without missing any.  As a simple example, consider
the set $\mathbb{Z}$ of all integers.  Listing them in the order
$0, 1, -1, 2, -2, 3, -3, \dots$ shows that they are countable.  On the
other hand, listing them as $\dots, -3, -2, -1, 0, 1, 2, 3, \dots$
would not suffice, since there is no starting point.  Also, the
listing $01, 2, 3, \dots, -1, -2, -3, \dots$ is not acceptable either,
since $-1$ will never reached in a finite number of steps.

To show that the the positive rationals are countable, consider their
arrangement shown in cite, where each entry is the top number divided
by the left number.  By construction, every positive rational appears
at least once, with any rational $\sfrac{p}{q}$ is in the $p$th column
and the $q$th row.  Thus, listing each entry of the table along a
diagonal (and skipping repeated entries) yields the desired list of
the positive rationals:
%
\begin{equation*}
  1, \frac{1}{2}, 2, \frac{1}{3}, 3, \frac{1}{4}, \frac{2}{3},
  \frac{3}{2}, 4, \dots
\end{equation*}
%
For the set $\mathbb{Q}$ of the all rationals, follow the same
procedure as for the integers $\mathbb{Z}$:
%
\begin{equation*}
  0, 1, -1, \frac{1}{2}, -\frac{1}{2}, 2, -2, \frac{1}{3},
  -\frac{1}{3}, \dots
\end{equation*}

Showing that a set is countable or uncountable is a bit of an art.  We
will conclude this section by showing that the set $\mathbb{R}$ of
real numbers is not countable.  It is sufficient to show that the real
numbers in the interval $[0, 1)$ are uncountable.  We begin by writing
each number in decimal form as $p = 0.x_1x_2x_3\dots$.  Now, suppose
that the set $S$ of real numbers in $[0, 1)$ were countable.  Then
these numbers could be listed as $p_1, p_2, \dots$ with $p_i$ being
the decimal $p_i = 0.$

If $p = p_i$, then we must have $y_n = x_n^{\left(i\right)}$ for all
$n = 1, 2, \dots$.  In particular, this must be true for $n = i$,
hence $y_i = x_i^{\left(i\right)}$.  But we have guaranteed that
$y_i \neq x_i^{\left(i\right)}$, so that $p \neq p_i$.  Since this
argument holds for all $i = 1, 2, \dots$, then we may conclude that
$p$ is not equal to any $p_i$.  But $p = 0.y_1y_2y_3\dots$ is clearly
an element of $S$, which is a contradiction, hence the set
$\mathbb{R}$ is not countable.

Finally, note that the irrational numbers must also be uncountable.
If they were countable, they could be listed as $p_1, p_2, \dots$.
Since the rational numbers $\mathbb{Q}$ are countable, they can be
listed as $q_1, q_2, \dots$.  Now consider their union,
$p_1, q_1, p_2, q_2, \dots$, which includes all real numbers.  Since
we have already shown that the real numbers are uncountable, it
follows by contradiction that the irrational numbers cannot be
countable.

\section{Measure Theory}
%
In this section, we give a careful definition of the term
\textbf{measure}.  We begin by indicating which sets have a
well-defined measure.

The collection $\mathbb{S}$ of measurable sets is the collection of
subsets of some space $R$ which satisfies the following conditions:
\begin{enumerate}
\item $\emptyset \in \mathbb{S}$ (the empty set is measurable)
\item $R \in \mathbb{S}$  (the entire space is measurable)
\item If $S \in \mathbb{S}$, then its complement
  $S^c = R - S \in \mathbb{S}$ (if a set is measurable, then so is its
  complement
\item If $S_1, S_2, \dots \in \mathbb{S}$, then
  $\cup_{n=1}^\infty S_n \in \mathbb{S}$ and
  $\cap_{n=1}^\infty S_n \in \mathbb{S}$ (countable union or
  intersections of measurable sets measurable).
\end{enumerate}

A measure $\mu$ is now defined to be any function which assigns a
unique real to each measurable set $S \in \mathbb{S}$ and satisfies
the following conditions:
\begin{enumerate}
\item $\mu(\emptyset) = 0$ (the empty set has measure zero).
\item For all $S \in \mathbb{S}$, $\mu(S) \geq 0$ (all measurable sets
  have nonnegative measure).
\item If $S_1, S_2, \dots \in \mathbb{S}$ are mutually disjoint (i.e., for
  $i \neq j$, we have that $S_i \cap S_j = \emptyset$), then
  $\mu\left(\cup_{n=1}^\infty S_n\right) = \sum_{n=1}^\infty \mu(S_n)$
\end{enumerate}
\section{Examples of Measures}
%
\section{Important Theorems}
%
\section{Hausdorff Measure}


